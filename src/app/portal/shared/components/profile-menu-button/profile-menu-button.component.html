@if (authStore.authUser()?.photoUrl !== null) {
  <button
    class="rounded-full cursor-pointer overflow-hidden"
    (click)="menu.toggle($event)"
  >
    <img [ngSrc]="authStore.authUser()!.photoUrl!" class="size-[20px] rounded-full" [alt]="authStore.authUser()?.firstName" />
  </button>
} @else {
  <button
    class="flex items-center justify-center size-10 bg-white rounded-full cursor-pointer"
    (click)="menu.toggle($event)"
  >
    <i-lucide [img]="defaultAvatar" class="size-[20px] text-primary"></i-lucide>
  </button>
}

<p-menu
  #menu
  [model]="profileMenuOptions"
  [popup]="true"
  styleClass="max-w-[350px] w-full mt-2"
>
  <ng-template #start>
    <div class="inline-flex items-center gap-3 p-4">
      @if (authStore.authUser()?.photoUrl !== null) {
        <img [ngSrc]="authStore.authUser()!.photoUrl!" class="size-[20px] rounded-full" [alt]="authStore.authUser()?.firstName" />
      } @else {
        <div class="bg-white rounded-full size-[80px] flex justify-center items-center border-2 border-primary-500 aspect-square">
          <i-lucide [img]="defaultAvatar" class="size-[45px] text-primary"></i-lucide>
        </div>
      }

      <div class="flex flex-col">
        <p class="text-lg font-bold leading-tight">
          {{ authStore.authUser()?.firstName + ' ' + authStore.authUser()?.lastName }}
        </p>
        <span class="text-base text-gray-400">Profesor</span>
      </div>
    </div>
  </ng-template>

  <ng-template #item let-item>
    <span class="inline-flex items-center gap-2 py-2 p-menu-item-link">
      <span class="ml-2">{{ item.label }}</span>
    </span>
  </ng-template>
</p-menu>

<p-toast position="top-center" />
