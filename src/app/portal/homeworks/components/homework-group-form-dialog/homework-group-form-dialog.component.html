@if (homeworkGroupForm; as homeworkGroupFormGroup) {
  <p-dialog
    [header]="headerTitle()"
    [modal]="true"
    [visible]="showDialog()"
    [draggable]="false"
    [resizable]="false"
    [closable]="false"
    [formGroup]="homeworkGroupFormGroup"
    [style]="{
      'max-width': '500px',
      width: '100%',
    }"
  >
    <ng-template #header>
      <div class="flex justify-between items-center w-full">
        <span class="font-bold text-xl">{{ headerTitle() }}</span>

        <div class="flex gap-2 items-center">
          <p-button
            rounded
            type="button"
            size="small"
            severity="secondary"
            styleClass="aspect-square group disabled:cursor-not-allowed size-10"
            (click)="onCloseDialog()"
            [disabled]="isSubmitLoading()"
          >
            <i-lucide
              pButtonIcon
              [img]="closeIcon"
              class="text-gray-700 group-disabled:text-gray-300"
            />
          </p-button>
        </div>
      </div>
    </ng-template>

    <div class="flex flex-col gap-3">
      <div class="flex flex-col gap-1">
        <gow-text-field
          label="Nombre"
          placeholder="Ingresar el nombre del grupo"
          focusColor="danger"
          formControlName="name"
        />

        @if (nameControl.invalid && nameControl.touched) {
          @if (hasErrorValidation(nameControl, "required")) {
            <p class="text-red-500 text-sm">Es requerido</p>
          } @else if (hasErrorValidation(nameControl, "minlength")) {
            <p class="text-red-500 text-sm">
              Mínimo
              {{ nameControl.errors?.["minlength"].requiredLength }} caracteres
            </p>
          } @else if (hasErrorValidation(nameControl, "maxlength")) {
            <p class="text-red-500 text-sm">
              Máximo
              {{ nameControl.errors?.["maxlength"].requiredLength }} caracteres
            </p>
          }
        }
      </div>

      <p-button
        severity="danger"
        styleClass="w-full py-3 rounded-xl"
        (click)="onSubmitForm()"
        [loading]="isSubmitLoading()"
      >
        <i-lucide pButtonIcon [img]="saveIcon" />
        <span pButtonLabel>{{ buttonText() }}</span>
      </p-button>
    </div>
  </p-dialog>
}
